{"version":3,"file":"react.js","sources":["src/bindings/react.js"],"sourcesContent":["import { createElement, Component } from 'react'\n\nexport const connect = (store, mapStateToProps, mapDispatchToProps) => {\n  return function(WrappedComponent)  {\n    return class extends Component {\n      constructor() {\n        super()\n        this.connection = null\n        this.handleUpdate = this.handleUpdate.bind(this)\n        this.state =\n          Object.assign(\n            {},\n            store.getState(mapStateToProps),\n            store.getActions(mapDispatchToProps)\n          )\n      }\n\n\n      componentDidMount() {\n        this.connection = store.connect(mapStateToProps, mapDispatchToProps)(\n          this.handleUpdate\n        )\n      }\n      handleUpdate(state) {\n        this.setState(Object.assign({}, state))\n      }\n\n      componentWillUnmount() {\n        this.connection && this.connection.dispose()\n      }\n      render() {\n        return createElement(WrappedComponent, this.state)\n      }\n    }\n  }\n}\n"],"names":["store","mapStateToProps","mapDispatchToProps","WrappedComponent","super","this","connection","handleUpdate","bind","state","Object","assign","getState","getActions","componentDidMount","connect","setState","componentWillUnmount","dispose","render","createElement","Component"],"mappings":"gDAEwBA,EAAOC,EAAiBC,UACvC,SAASC,GACd,gCAEIC,aACAC,KAAKC,WAAa,KAClBD,KAAKE,aAAeF,KAAKE,aAAaC,KAAKH,MAC3CA,KAAKI,MACHC,OAAOC,UAELX,EAAMY,SAASX,GACfD,EAAMa,WAAWX,oGAKvBY,6BACET,KAAKC,WAAaN,EAAMe,QAAQd,EAAiBC,EAA/BF,CAChBK,KAAKE,2BAGTA,sBAAaE,GACXJ,KAAKW,SAASN,OAAOC,UAAWF,iBAGlCQ,gCACEZ,KAAKC,YAAcD,KAAKC,WAAWY,uBAErCC,kBACE,OAAOC,gBAAcjB,EAAkBE,KAAKI,WA3B3BY"}